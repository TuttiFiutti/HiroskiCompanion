import socket

TCP_IP = "5.252.35.46"
TCP_PORT = 6846

LOGIN_MESSAGE = bytes.fromhex(
    "fd008300a160784d2e6e516f6269470005010000009d6f9e7000020000a6010000f09a1900996deb74e4e0f504010000383037595937315a48474c485352595a20535744573837390040871f0518119200e4e0f504e8e0f504589b190066425502b8e0f504349b1900996deb7464e3cd0401000000000000003c9b1900249c1900049c190084b3eb740000000040a7f20440a7f20464e3cd0468e3cd04c49b190055bd540238e3cd04249c1900049c1900c49b1900689b190040871f05000000000d0000000200000062004b03949b1900a09b1900996deb745cb9f5040100000000000000a89b1900249c1900049c190070544c0000d86136ffd90000")
ASK_FOR_KA = bytes.fromhex("090036005c3f070001")  # ?
KA_MESSAGE = bytes.fromhex("080060001d9e0900")
CLIENT_ASK_FOR_RANKING = bytes.fromhex("0800500000000000")
CLIENT_ASK_FOR_SOME_RANDOM_GUYS_MMR_P1 = bytes.fromhex("08006800135b0600")
CLIENT_ASK_FOR_SOME_RANDOM_GUYS_MMR_P2 = bytes.fromhex("08007400135b0600")

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((TCP_IP, TCP_PORT))
s.send(LOGIN_MESSAGE)
# s.send(KA_MESSAGE)
s.send(CLIENT_ASK_FOR_RANKING)
# s.send(CLIENT_ASK_FOR_SOME_RANDOM_GUYS_MMR_P1)
# s.send(CLIENT_ASK_FOR_SOME_RANDOM_GUYS_MMR_P2)
i = 0
while data := s.recv(1024):
    print(f"{data=}")
    i += 1
    if data == ASK_FOR_KA:
        s.send(KA_MESSAGE)
    if i == 50:
        s.send(CLIENT_ASK_FOR_RANKING)
        # s.send(CLIENT_ASK_FOR_SOME_RANDOM_GUYS_MMR_P1)
        # s.send(CLIENT_ASK_FOR_SOME_RANDOM_GUYS_MMR_P2)